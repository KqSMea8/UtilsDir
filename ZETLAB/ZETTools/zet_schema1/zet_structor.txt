zet_structor: компилятор структур и описателей

Компилятор принимает на вход файл с текстовым описанием структуры и генерирует несколько файлов:
1) *.h — заголовочный файл со структурой для включения в проект на языке C/C++;
2) *.%08x.zbinary1 — бинарный файл с описателем (%x — тип структуры в hex);

Пример использования:
> zet_structor test.zschema1 --h --bin all

Компилятор проверит схемы структур, содержащиеся в test.zschema1, и сгенерирует .h файл
и по одному .zbinary1 файлу для каждой структуры.

Все параметры командной строки можно узнать, если запустить программу без параметров.

Программа собирается с помощью CMake. Для сборки требуется только стандартная библиотека C++.

________________
Текстовый формат

Синтаксис текстового описания довольно простой.
Пример в файле zet_adc.schema.

Комментарии: //, /* */, #
Ключевые слова: struct, const
Обозначения:
  %typename — один из поддерживаемых типов:
    char, u8, s8, u16, s16, u32, s32, u64, s64, float, double
  %id — идентификатор
  %str — строка, заключенная в двойные кавычки
  %int — целое число (в десятичной записи или в hex)
  %float — вещественное число (с десятичной точкой или без нее)
  %bool — true или false
  %base — число или строка, тип зависит от типа поля %typename
Модификатор '+' указывает, что значение может повторяться через запятую, например, "%base+".


Структура состоит из полей и свойств.

Свойства бывают глобальные, указываемые прямо в структуре между полями,
и локальные, указываемые внутри описания поля.


____
Поля

Поле определяется записью:
%typename %id
или
%typename %id[%x]
или
%typename %id[]

В квадратных скобках указывается количество элементов (степень двойки).
После записи в фигурных скобках могут быть перечислены свойства поля.

_______________________
Поддерживаемые свойства

0) title %str
1) name %str
2) description %str
3) default %base
4) control %id
5)
6) minimum %base
7) maximum %base
8) list %base+
9) string_list %str+
10) exclude %base+
11) check %str
12) expression %str
13) hidden %bool
14) readonly %bool
15) group %str
16) end_group

Для свойства control %id возможные значения:
1) edit
2) checkbox
3) combobox
4) static
5)
6) time
7) channel
8) rotate — регулятор поворота
9) ip4
10) ip6

_________________
Объединение полей

Глобальное свойство "group %s" начинает новое объединение со следующего поля.
Глобальное свойства "end_group" заканчивает текущее объединение.


_________
Константы

Константа определяется записью вида:
const %typename %id = %base+
